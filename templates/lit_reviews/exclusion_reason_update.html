{% extends 'base_lit_reviews.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block 'head' %}
<style>
   #update-reason-form .form-group{
    flex-direction: column ;
   }
</style>
{% endblock %}
{% block 'body' %}


<div id="app" style="padding: 10px 20px;">
    <form method="post" id="update-reason-form">
        {% csrf_token %} 
        <div>
        {{ form.reason | as_crispy_field }}
        </div>
        <input type="hidden" value="" name="UpdateMethod" id="UpdateMethod"> 
        <!-- <h1 type="submit" class="btn mb-2 ml-auto success-btn"
            v-on:click="showUpdateReasonPopup()" ref="run-report"
        > Save </h1> -->
        <div class="modal" id="update-reason">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        Exclusion Reason Update
                    </div>
                    <form method="post" novalidate>
                        {% csrf_token %}
                        <div class="modal-body" >
                            <span class="modal-body-text">
                               Do you want to update the previously chosen exclusions with this new version.
                            </span>
                        </div>
                        <div class="modal-footer button-actions">
                            <button type="submit" class="primary-button" v-on:click="changeUpdateMethod('true')">Yes - Update Them All</button>
                            <button type="button" class="secondary-gray-button" v-on:click="changeUpdateMethod('false')">No - Leave the Previous Exclusions Alone</button>
                        </div>
                    </form>
                </div>
            </div>
       </div>
       <div class="button-actions mt-2">
            <button 
                id="show-btn" 
                v-on:click="showModal('update-reason')" 
                class="primary-button"
                :disabled="isArchived"
            > Save 
            </button>
            <a href="{% url 'literature_reviews:exclusion_reason' id=literature_review_id %}" class="secondary-gray-button"> Cancel</a>
       </div>
    </form>
</div>

{% endblock %}

{% block 'scripts-block' %}
    <script type="application/javascript" src="{% static "lit_reviews/vue/update_reason.js" %}" ></script>
{% endblock %}
